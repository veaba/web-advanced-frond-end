<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础 | 进阶web高级前端知识体系</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="面对web技术全栈，来自@veaba 个人学习笔记以及公开博客文章整理">
    
    <link rel="preload" href="/assets/css/0.styles.cbd9db94.css" as="style"><link rel="preload" href="/assets/js/app.da650921.js" as="script"><link rel="preload" href="/assets/js/2.cfea43a3.js" as="script"><link rel="preload" href="/assets/js/48.4aab68ce.js" as="script"><link rel="prefetch" href="/assets/js/10.5da23f4b.js"><link rel="prefetch" href="/assets/js/11.d3d1c83e.js"><link rel="prefetch" href="/assets/js/12.772613d1.js"><link rel="prefetch" href="/assets/js/13.ec49721a.js"><link rel="prefetch" href="/assets/js/14.fc6e206d.js"><link rel="prefetch" href="/assets/js/15.009cf3b0.js"><link rel="prefetch" href="/assets/js/16.dadbfe99.js"><link rel="prefetch" href="/assets/js/17.79c44708.js"><link rel="prefetch" href="/assets/js/18.2375a03f.js"><link rel="prefetch" href="/assets/js/19.fe5ed694.js"><link rel="prefetch" href="/assets/js/20.917a5ffd.js"><link rel="prefetch" href="/assets/js/21.8c6475b6.js"><link rel="prefetch" href="/assets/js/22.bde4e132.js"><link rel="prefetch" href="/assets/js/23.f8f70e9d.js"><link rel="prefetch" href="/assets/js/24.293d44a6.js"><link rel="prefetch" href="/assets/js/25.7cae75c1.js"><link rel="prefetch" href="/assets/js/26.5a683528.js"><link rel="prefetch" href="/assets/js/27.49a4c6c1.js"><link rel="prefetch" href="/assets/js/28.2133b4b3.js"><link rel="prefetch" href="/assets/js/29.6ad131c0.js"><link rel="prefetch" href="/assets/js/3.ca39d2c1.js"><link rel="prefetch" href="/assets/js/30.c4ca3815.js"><link rel="prefetch" href="/assets/js/31.73efc52f.js"><link rel="prefetch" href="/assets/js/32.b4e6b601.js"><link rel="prefetch" href="/assets/js/33.8c360491.js"><link rel="prefetch" href="/assets/js/34.0c827d92.js"><link rel="prefetch" href="/assets/js/35.49038485.js"><link rel="prefetch" href="/assets/js/36.0f8b4f9f.js"><link rel="prefetch" href="/assets/js/37.9a886783.js"><link rel="prefetch" href="/assets/js/38.e2af7986.js"><link rel="prefetch" href="/assets/js/39.c6d05eb2.js"><link rel="prefetch" href="/assets/js/4.2363fb5a.js"><link rel="prefetch" href="/assets/js/40.a8d0f478.js"><link rel="prefetch" href="/assets/js/41.140516a4.js"><link rel="prefetch" href="/assets/js/42.68724ce8.js"><link rel="prefetch" href="/assets/js/43.e122cb8e.js"><link rel="prefetch" href="/assets/js/44.b9df3e9d.js"><link rel="prefetch" href="/assets/js/45.aa7e9f09.js"><link rel="prefetch" href="/assets/js/46.0ff412aa.js"><link rel="prefetch" href="/assets/js/47.d010025d.js"><link rel="prefetch" href="/assets/js/49.9112a8d5.js"><link rel="prefetch" href="/assets/js/5.1a17c7fd.js"><link rel="prefetch" href="/assets/js/50.66213575.js"><link rel="prefetch" href="/assets/js/51.7c28b94d.js"><link rel="prefetch" href="/assets/js/52.b994f2a5.js"><link rel="prefetch" href="/assets/js/53.cb8ae75f.js"><link rel="prefetch" href="/assets/js/54.bed231f5.js"><link rel="prefetch" href="/assets/js/55.b5c12083.js"><link rel="prefetch" href="/assets/js/56.d24c194a.js"><link rel="prefetch" href="/assets/js/57.2266c999.js"><link rel="prefetch" href="/assets/js/58.45dbc100.js"><link rel="prefetch" href="/assets/js/59.ee7c29b0.js"><link rel="prefetch" href="/assets/js/6.f5721c6c.js"><link rel="prefetch" href="/assets/js/60.49ed42de.js"><link rel="prefetch" href="/assets/js/61.a43df18c.js"><link rel="prefetch" href="/assets/js/62.5e1da83b.js"><link rel="prefetch" href="/assets/js/63.14208060.js"><link rel="prefetch" href="/assets/js/64.6b19c853.js"><link rel="prefetch" href="/assets/js/65.ceab9cdd.js"><link rel="prefetch" href="/assets/js/66.b753dfad.js"><link rel="prefetch" href="/assets/js/67.1db0c319.js"><link rel="prefetch" href="/assets/js/68.f5f93361.js"><link rel="prefetch" href="/assets/js/69.b1ab7abf.js"><link rel="prefetch" href="/assets/js/7.8d5cc4a4.js"><link rel="prefetch" href="/assets/js/70.77a5f0d2.js"><link rel="prefetch" href="/assets/js/71.eb7e60d3.js"><link rel="prefetch" href="/assets/js/72.ce397162.js"><link rel="prefetch" href="/assets/js/73.d6d6e81e.js"><link rel="prefetch" href="/assets/js/74.b3461251.js"><link rel="prefetch" href="/assets/js/75.9b07dfb3.js"><link rel="prefetch" href="/assets/js/76.e2e72906.js"><link rel="prefetch" href="/assets/js/77.e136d187.js"><link rel="prefetch" href="/assets/js/78.3171be39.js"><link rel="prefetch" href="/assets/js/79.14b82bd4.js"><link rel="prefetch" href="/assets/js/8.7fa854ee.js"><link rel="prefetch" href="/assets/js/80.79b8c166.js"><link rel="prefetch" href="/assets/js/81.b2f0ea0e.js"><link rel="prefetch" href="/assets/js/82.3144efdf.js"><link rel="prefetch" href="/assets/js/83.5634923a.js"><link rel="prefetch" href="/assets/js/84.703bfdd4.js"><link rel="prefetch" href="/assets/js/85.d32675d6.js"><link rel="prefetch" href="/assets/js/86.14b93fe4.js"><link rel="prefetch" href="/assets/js/87.e5260d6a.js"><link rel="prefetch" href="/assets/js/88.46bb29a0.js"><link rel="prefetch" href="/assets/js/89.50521f1a.js"><link rel="prefetch" href="/assets/js/9.cfef67a1.js"><link rel="prefetch" href="/assets/js/90.2d1b8a1d.js"><link rel="prefetch" href="/assets/js/91.038004a9.js"><link rel="prefetch" href="/assets/js/92.5b384f19.js"><link rel="prefetch" href="/assets/js/93.3c44828a.js"><link rel="prefetch" href="/assets/js/94.02ba3e23.js"><link rel="prefetch" href="/assets/js/95.9c339ca0.js"><link rel="prefetch" href="/assets/js/96.bdf4adbb.js"><link rel="prefetch" href="/assets/js/97.18abbb4d.js"><link rel="prefetch" href="/assets/js/98.4530f6df.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cbd9db94.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.png" alt="进阶web高级前端知识体系" class="logo"> <span class="site-name can-hide">进阶web高级前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/rust/actix-web/" class="nav-link">actix-web</a></div><div class="nav-item"><a href="/javascript/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><a href="/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试题</a></div> <a href="https://github.com/veaba/web-advanced-frond-end" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/rust/actix-web/" class="nav-link">actix-web</a></div><div class="nav-item"><a href="/javascript/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><a href="/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试题</a></div> <a href="https://github.com/veaba/web-advanced-frond-end" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <span title="实验！" class="icon-experiment" style="display:none;"></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/base.html#概念" class="sidebar-link">概念</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#知识点" class="sidebar-link">知识点</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#关键字" class="sidebar-link">关键字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#关键字、保留字分类" class="sidebar-link">关键字、保留字分类</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#ecma-262-保留字" class="sidebar-link">ECMA-262 保留字</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#第五版非严格模式下缩减为" class="sidebar-link">第五版非严格模式下缩减为</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#严格模式下-保留字限制" class="sidebar-link">严格模式下，保留字限制</a></li></ul></li><li><a href="/javascript/base.html#语句" class="sidebar-link">语句</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#静态方法" class="sidebar-link">静态方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#正则-regexp" class="sidebar-link">正则 RegExp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#字符串-string" class="sidebar-link">字符串 String</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#数字-number" class="sidebar-link">数字 Number</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#数组-array" class="sidebar-link">数组 Array</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#实例方法-不改变原始数组的方法" class="sidebar-link">实例方法-不改变原始数组的方法</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#实例方法-改变原始数组的方法-一般改变索引值的-都会改变原始数组" class="sidebar-link">实例方法-改变原始数组的方法(一般改变索引值的，都会改变原始数组)</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#静态方法-2" class="sidebar-link">静态方法</a></li></ul></li><li><a href="/javascript/base.html#数据类型构造属性及方法-静态" class="sidebar-link">数据类型构造属性及方法(静态)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#函数" class="sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#声明函数的几种函数-目前三种" class="sidebar-link">声明函数的几种函数，目前三种</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#一种危险的函数使用" class="sidebar-link">一种危险的函数使用</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#递归" class="sidebar-link">递归</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#立即执行" class="sidebar-link">立即执行</a></li></ul></li><li><a href="/javascript/base.html#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#焦点事件" class="sidebar-link">焦点事件</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#事件委托-事件代理" class="sidebar-link">事件委托/事件代理</a></li></ul></li><li><a href="/javascript/base.html#前端路由实现" class="sidebar-link">前端路由实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#全局函数" class="sidebar-link">全局函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#枚举-new-symbol" class="sidebar-link">枚举[new] symbol</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#类-class" class="sidebar-link">类 class</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#面向对象-程序设计" class="sidebar-link">面向对象,程序设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#创建对象-构造函数" class="sidebar-link">创建对象-构造函数</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#√-创建对象-混淆大法-组合使用构造函数-原型模式-目前最广泛-最好的方式" class="sidebar-link">[√]创建对象-混淆大法！组合使用构造函数 +原型模式！目前最广泛，最好的方式</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#创建对象-动态原型模式" class="sidebar-link">创建对象-动态原型模式</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#x-创建对象-寄生构造函数模式" class="sidebar-link">[x]创建对象-寄生构造函数模式</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#创建对象-稳妥构造函数模式" class="sidebar-link">创建对象-稳妥构造函数模式</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#new-操作符都干吗了" class="sidebar-link">new 操作符都干吗了？</a></li></ul></li><li><a href="/javascript/base.html#作用域" class="sidebar-link">作用域</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#私有变量" class="sidebar-link">私有变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#this" class="sidebar-link">this</a></li></ul></li><li><a href="/javascript/base.html#以下三个方法都是为了改变上下文存在而是用的" class="sidebar-link">以下三个方法都是为了改变上下文存在而是用的</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#call-会立即执行。" class="sidebar-link">call 会立即执行。</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#apply-会立即执行。" class="sidebar-link">apply 会立即执行。</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/base.html#apply-讲数组添加到另一个数组" class="sidebar-link">apply 讲数组添加到另一个数组</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#apply-和内置函数-允许-math-max-math-min-找出数组中最大值-最小值" class="sidebar-link">apply 和内置函数，允许 Math.max/Math.min 找出数组中最大值/最小值</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#将数组空元素转为undefined" class="sidebar-link">将数组空元素转为undefined</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#使用-apply-来链接构造器" class="sidebar-link">使用 apply 来链接构造器</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#转换类数组对象" class="sidebar-link">转换类数组对象</a></li><li class="sidebar-sub-header"><a href="/javascript/base.html#绑定回调函数的对象" class="sidebar-link">绑定回调函数的对象</a></li></ul></li><li><a href="/javascript/base.html#bind-新函数-不会立即执行。" class="sidebar-link">bind 新函数，不会立即执行。</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#call-与-apply-区别" class="sidebar-link">call 与 apply 区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#blob-对象" class="sidebar-link">Blob 对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#js-三大对象" class="sidebar-link">js 三大对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#本地对象" class="sidebar-link">本地对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#内置对象" class="sidebar-link">内置对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript/base.html#宿主对象" class="sidebar-link">宿主对象</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content-layout"><div class="theme-default-content content__default"><h1 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h1> <blockquote><p>JavaScript 是起初是运行在浏览器网页里面的代码，后发展为可以跨平台的编程语言。</p></blockquote> <h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <ul><li>JavaScript 组成
<ul><li>ECMAScript 语法核心</li> <li>DOM 文档模型对象</li> <li>BOM 浏览器模型对象</li></ul></li></ul> <h2 id="知识点"><a href="#知识点" class="header-anchor">#</a> 知识点</h2> <ul><li>箭头函数不能调用 <code>Function</code> 的 <code>bind</code>、<code>call</code>、<code>apply</code>，没有继承 <code>Function</code></li> <li><code>window.onerror</code> 方法默认情况下无法获取跨域脚本的报错详情</li> <li>调用拷贝构造函数的三种情况：
<ul><li>用类的一个对象去初始化另一个对象是</li> <li>当函数的形参是类的对象时，如果是引用传递则不会调用</li> <li>当函数的返回值是类的对象或引用时</li></ul></li></ul> <h2 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h2> <ul><li>如果使用关键字 name 声明一个值，只能是 string 类型！！！</li></ul> <h3 id="关键字、保留字分类"><a href="#关键字、保留字分类" class="header-anchor">#</a> 关键字、保留字分类</h3> <ul><li><p>操作符关键字</p> <ul><li><code>instanceof</code></li> <li><code>typeof</code></li> <li><code>delete</code></li></ul></li> <li><p>类型关键字</p></li> <li><p>语法关键字</p> <ul><li><code>break</code></li> <li><code>do</code></li> <li><code>case</code></li> <li><code>else</code></li> <li><code>new</code></li> <li><code>catch</code></li> <li><code>finally</code></li> <li><code>return</code></li> <li><code>continue</code></li> <li><code>for</code></li> <li><code>switch</code></li> <li><code>while</code></li> <li><code>debugger *</code></li> <li><code>this</code></li> <li><code>with</code> 设置特定对象中的作用域</li> <li><code>in</code></li> <li><code>try</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">with</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// with 语句是运行缓慢的代码块，尤其是在已设置了属性值时。大多数情况下，如果可能，最好避免使用它。</span>
</code></pre></div><ul><li><code>default</code></li> <li><code>if</code></li> <li><code>throw</code></li></ul></li> <li><p>声明关键字</p> <ul><li><code>function</code></li> <li><code>void</code></li> <li><code>var</code></li></ul></li> <li><p>算术操作符</p></li></ul> <h3 id="ecma-262-保留字"><a href="#ecma-262-保留字" class="header-anchor">#</a> ECMA-262 保留字</h3> <ul><li><code>abstract</code></li> <li><code>enum</code></li> <li><code>int</code></li> <li><code>short</code></li> <li><code>boolean</code></li> <li><code>export</code></li> <li><code>interface</code></li> <li><code>static</code></li> <li><code>byte</code></li> <li><code>extends</code></li> <li><code>long</code></li> <li><code>super</code></li> <li><code>char</code></li> <li><code>final</code></li> <li><code>native</code></li> <li><code>synchronized</code></li> <li><code>class</code></li> <li><code>float</code></li> <li><code>package</code></li> <li><code>throws</code></li> <li><code>const</code></li> <li><code>goto</code></li> <li><code>private</code></li> <li><code>transient</code></li> <li><code>debugger</code></li> <li><code>implements</code></li> <li><code>protected</code></li> <li><code>volatile</code></li> <li><code>double</code></li> <li><code>import</code></li> <li><code>public</code></li></ul> <h3 id="第五版非严格模式下缩减为"><a href="#第五版非严格模式下缩减为" class="header-anchor">#</a> 第五版非严格模式下缩减为</h3> <ul><li><code>class</code></li> <li><code>enum</code></li> <li><code>extends</code></li> <li><code>super</code></li> <li><code>const</code></li> <li><code>export</code></li> <li><code>import</code></li></ul> <h3 id="严格模式下-保留字限制"><a href="#严格模式下-保留字限制" class="header-anchor">#</a> 严格模式下，保留字限制</h3> <ul><li><code>implements</code></li> <li><code>package</code></li> <li><code>public</code></li> <li><code>interface</code></li> <li><code>private</code></li> <li><code>static</code></li> <li><code>let</code></li> <li><code>protected</code></li> <li><code>yield</code></li></ul> <h2 id="语句"><a href="#语句" class="header-anchor">#</a> 语句</h2> <ul><li>switch
<ul><li>case 必须紧接着跟值/变量/简单表达式/&amp;&amp;/function，不确定能使用||</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 以下产生一个bug，不管怎么样使用关键字name 声明一个值，只能是string 类型！！！</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tt <span class="token operator">=</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> name1 <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tt1 <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
<span class="token comment">// demo1</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 终止错误，合并两个条件</span>
  <span class="token keyword">case</span> <span class="token string">&quot;22&quot;</span><span class="token operator">:</span>
  <span class="token keyword">case</span> <span class="token string">&quot;AbortError&quot;</span><span class="token operator">:</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;NotFoundError:找不到满足错误的类型&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//demo2</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 终止错误，合并两个条件</span>
  <span class="token keyword">case</span> tt<span class="token operator">:</span>
  <span class="token keyword">case</span> <span class="token string">&quot;AbortError&quot;</span><span class="token operator">:</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;NotFoundError:找不到满足错误的类型&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//demo3</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>name1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 终止错误，合并两个条件,数值为number 类型时候，无法进入此条件</span>
  <span class="token keyword">case</span> tt1<span class="token operator">:</span>
  <span class="token keyword">case</span> <span class="token string">&quot;AbortError&quot;</span><span class="token operator">:</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;NotFoundError:找不到满足错误的类型&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <h2 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h2> <blockquote><p>xxx.prototype 在 constructor 里面就看到了,</p></blockquote> <h2 id="正则-regexp"><a href="#正则-regexp" class="header-anchor">#</a> 正则 RegExp</h2> <h2 id="字符串-string"><a href="#字符串-string" class="header-anchor">#</a> 字符串 String</h2> <h2 id="数字-number"><a href="#数字-number" class="header-anchor">#</a> 数字 Number</h2> <ul><li>除法。先转为数字再进行除法操作</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;40&quot;</span> <span class="token operator">%</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等于多少? 取模</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;40&quot;</span> <span class="token operator">/</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等于多少? 取模</span>
</code></pre></div><h2 id="数组-array"><a href="#数组-array" class="header-anchor">#</a> 数组 Array</h2> <ul><li>能用 forEach()做到的，map()同样可以。反过来也是如此。</li> <li>map()会分配内存空间存储新数组并返回，forEach()不会返回数据。</li> <li>forEach()允许 callback 更改原始数组的元素。map()返回新的数组。</li> <li>forEach 跳过空元素，但不跳过<code>undefined</code></li></ul> <h3 id="实例方法-不改变原始数组的方法"><a href="#实例方法-不改变原始数组的方法" class="header-anchor">#</a> 实例方法-不改变原始数组的方法</h3> <ul><li><p><code>Array.prototype.concat(arr1, arr2,...,arr)</code></p> <ul><li>入参必填，可以是数组对象</li> <li>返回新数组</li> <li>链接数组</li></ul></li> <li><p><sup>es6</sup><code>Array.prototype.entries()</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Banana&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Orange&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mango&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> temp<span class="token operator">=</span>fruits<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*[key,value]*/</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*/Array Iterator {}*/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*不改變*/</span>
</code></pre></div></li> <li><p><sup>es6</sup><code>Array.prototype.every(function(currentValue,index,arr){},thisArr)</code></p> <ul><li><p>检测数组所有元素都符合指定条件，通过函数条件</p></li> <li><p>如果有一个不满足条件，则会返回 false，且剩余不再检测</p></li> <li><p>如果全部都满足条件则返回 true</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> ages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">checkAdult</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token comment">/*如果没有return 则返回第一个，然后打断*/</span>
  <span class="token comment">/*     return age &gt;= 18;*/</span>
  <span class="token punctuation">}</span>
  ages<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>checkAdult<span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><code>Array.prototype.filter(function(){currentValue,index,arr},thisValue)</code>
、</p> <ul><li>过滤数组</li> <li>检查指定数组中符合条件的所有元素</li> <li>不检测空数组</li> <li>不改变原数组</li></ul></li> <li><p><sup>es6</sup><code>Array.prototype.find(function(){currenValue,index,arr},thisValue)</code></p> <ul><li>查找的意思</li> <li>判断数组第一个元素的值</li> <li>每个元素都调用一次函数</li> <li>如果条件满足 true，则返回符合条件的元素，之后的不再执行</li> <li>如果都没有符合条件则返回 undefined</li></ul></li> <li><p><code>Array.prototype.map(function(currentValue,index,arr){},thisValue)</code></p> <ul><li>返回新数组，比如对每个数组都*2</li> <li>返回新数组,数组元素为原始数组元素调用函数处理后的值</li> <li>原始数组次序依次处理元素</li> <li>不对空数组进行检测</li> <li>不改变原数组，返回新数组</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*demo1*/</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">543153</span><span class="token punctuation">,</span> <span class="token number">1231</span><span class="token punctuation">,</span> <span class="token number">3215</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">4555</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arrT <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/*/ return value *2*/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  arrT
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*/[undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined]*/</span>

<span class="token comment">/*demo2*/</span>
<span class="token keyword">var</span> ages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">checkAdult</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> mapTemp <span class="token operator">=</span> ages<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>checkAdult<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mapTemp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*[true,true,false,true]*/</span>
<span class="token keyword">var</span> filterTemp <span class="token operator">=</span> ages<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>checkAdult<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>filterTemp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*[32,33,40] 返回如何条件原数组的元素*/</span>
</code></pre></div></li> <li><p><code>Array.prototype.forEach(function(currentValue,index,arr){},thisValue)</code></p> <ul><li>常用语，逐个做事情，打印，写入数据库</li> <li>forEach()方法对数组每个元素执行一次提供的函数</li> <li>对空数组不会执行回调函数</li> <li>es3 开始</li> <li>返回值 undefined</li> <li>不能使用 return,只针对每个元素调用函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">561531</span><span class="token punctuation">,</span> <span class="token number">1231</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr2r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//String {&quot;ttt&quot;}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;ttt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="实例方法-改变原始数组的方法-一般改变索引值的-都会改变原始数组"><a href="#实例方法-改变原始数组的方法-一般改变索引值的-都会改变原始数组" class="header-anchor">#</a> 实例方法-改变原始数组的方法(一般改变索引值的，都会改变原始数组)</h3> <ul><li><p><code>Array.prototype.copyWithin()</code>copyWithin</p> <ul><li>从数组指定元素拷贝元素到数组的另外一个指定位置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;西瓜&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵铁柱&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王尼玛&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> temp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[&quot;西瓜&quot;, &quot;赵铁柱&quot;, &quot;赵铁柱&quot;] ,[&quot;西瓜&quot;, 西瓜&quot;赵铁柱&quot;, &quot;赵铁柱&quot;]</span>
</code></pre></div></li> <li><p><sup>es6</sup><code>Array.prototype.fill('帅哥',start,end)</code></p> <ul><li>填充数组</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;西瓜&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵铁柱&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王尼玛&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> temp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;帅哥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//不入参的话其他不变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="静态方法-2"><a href="#静态方法-2" class="header-anchor">#</a> 静态方法</h3> <h2 id="数据类型构造属性及方法-静态"><a href="#数据类型构造属性及方法-静态" class="header-anchor">#</a> 数据类型构造属性及方法(静态)</h2> <ul><li>疑问：比较 MediaSource.prototype 与 Array.isArray()</li></ul> <blockquote><p>Array.isArray() <code>静态方法?</code>，可在 chrome 打印出来并不是灰色
<img src="/images/isArray.jpg" alt="Array.isArray()"></p></blockquote> <blockquote><p>MediaSource.isTypeSupported() <code>静态方法</code> ,在 chrome 打印出来是亮色
<img src="/images/isTypeSupported.jpg" alt="MediaSource.isTypeSupported"></p></blockquote> <blockquote><p>共性</p></blockquote> <table><thead><tr><th>类型或者构造函数</th> <th>arguments</th> <th>caller</th> <th>length</th> <th>name</th> <th>prototype</th> <th><strong>proto</strong></th> <th>[[Scopes]]</th></tr></thead> <tbody><tr><td>String</td> <td></td> <td></td> <td>1</td> <td>String</td> <td></td> <td></td> <td></td></tr> <tr><td>Boolean</td> <td></td> <td></td> <td>1</td> <td>Boolean</td> <td></td> <td></td> <td></td></tr> <tr><td>Number</td> <td></td> <td></td> <td>1</td> <td>Number</td> <td></td> <td></td> <td></td></tr> <tr><td>Object</td> <td></td> <td></td> <td>1</td> <td>Object</td> <td></td> <td></td> <td></td></tr> <tr><td>Array</td> <td></td> <td></td> <td>1</td> <td>Array</td> <td></td> <td></td> <td></td></tr> <tr><td>Symbol</td> <td></td> <td></td> <td>0</td> <td>Symbol</td> <td></td> <td></td> <td></td></tr> <tr><td>MediaSources</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <ul><li>String
<ul><li>fromCharCode</li> <li>raw</li></ul></li> <li>Boolean</li> <li>Number
<ul><li>EPSILON:2.220446049250313e-16</li> <li>MAX_SAFE_INTEGER: 9007199254740991</li> <li>MAX_VALUE:1.7976931348623157e+308</li> <li>MIN_SAFE_INTEGER: -9007199254740991</li> <li>MIN_VALUE:5e-324</li> <li>NEGATIVE_INFINITY: -Infinity</li> <li>NaN: NaN</li> <li>POSITIVE_INFINITY: Infinity</li> <li>isFinite()</li> <li>isInteger()</li> <li>isNaN()</li> <li>isSafeInteger()</li> <li>parseFloat()</li> <li>parseInt()</li></ul></li> <li>Object
<ul><li>assign()</li> <li>create()</li> <li>defineProperties()</li> <li>defineProperty()</li> <li>entries()</li> <li>freeze()</li> <li>getOwnPropertyDescriptor()</li> <li>getOwnPropertyDescriptors()</li> <li>getOwnPropertyNames()</li> <li>getOwnPropertySymbols()</li> <li>getPrototypeOf()</li> <li>is()</li> <li>isExtensible()</li> <li>isFrozen()</li> <li>isSealed()</li> <li>keys()</li> <li>preventExtensions()</li> <li>seal()</li> <li>setPrototypeOf()</li> <li>values()</li></ul></li> <li>Array
<ul><li>from()</li> <li>isArray()</li> <li>of()</li> <li>Symbol(Symbol.species)</li> <li>get Symbol(Symbol.species)😦)</li></ul></li> <li>Symbol
<ul><li>asyncIterator</li> <li>for()</li> <li>hadInstance</li> <li>isConcatSpreadable</li> <li>iterator</li> <li>keyFor()</li> <li>match</li> <li>replace</li> <li>search</li> <li>species</li> <li>split</li> <li>toPrimitive</li> <li>toStringTag</li> <li>unscopables</li></ul></li> <li>WebSocket
<ul><li><code>CLOSED:3</code></li> <li><code>CLOSING:2</code></li> <li><code>OPEN:1</code></li> <li><code>CONNECTING:0</code></li></ul></li> <li>MediaSources
<ul><li><code>isTypeSupported()</code> 静态方法</li></ul></li></ul> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <blockquote><p>特点：</p></blockquote> <ul><li>函数声明提升</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="声明函数的几种函数-目前三种"><a href="#声明函数的几种函数-目前三种" class="header-anchor">#</a> 声明函数的几种函数，目前三种</h3> <ul><li>函数声明</li> <li>函数表达式</li> <li>匿名函数/拉姆达函数，<code>name</code> 是空字符串</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*1 函数声明*/</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//todo</span>
<span class="token punctuation">}</span>
<span class="token comment">/*2 函数表达式*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">test1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//todo</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/*3 匿名函数/立即执行*/</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//todo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="一种危险的函数使用"><a href="#一种危险的函数使用" class="header-anchor">#</a> 一种危险的函数使用</h3> <p>为什么说它危险？</p> <blockquote><p>应该使用函数表达式</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">say2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;no hi!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="递归"><a href="#递归" class="header-anchor">#</a> 递归</h3> <hr> <blockquote><p>以下来自红宝石：</p></blockquote> <ul><li>使用<code>arguments.callee</code>，指向正在执行函数的指针</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ①如果设置中途转了一层</span>
<span class="token keyword">var</span> authorFactorial <span class="token operator">=</span> factorial<span class="token punctuation">;</span>
factorial <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">authorFactorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//error</span>
<span class="token comment">// ② 上面可以变为</span>
<span class="token keyword">function</span> <span class="token function">factorial1</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//但是在严格模式下，无法访问这个属性，所以会导致错误</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ③ 更有效的方案，匿名函数的方式</span>
<span class="token keyword">var</span> <span class="token function-variable function">factorial2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token function">f</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><hr> <blockquote><p>以下来自自己的摸索和总结：</p></blockquote> <p><code>函数自己调用自己,就是递归</code>，由于递归需要具备超前的临时计算能力，对于我来讲，是很难一个学习难点。随后在网络上找到一个方法、函数来加深理解。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 用递归 来求 5 的阶乘 ，翻译过来就是 1*2*3*4*5 =120</span>
<span class="token comment">// n! = n * (n-1)!</span>

<span class="token comment">// 定义一个函数，用于求 n 的阶乘</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// func(n-1) 因为传递的参数是 n-1,那么就是求 (n-1) 的阶乘</span>
  <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">func</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 所以计算的结果是</span>
<span class="token comment">// 第一步 return 5 *(func(4))</span>
<span class="token comment">// 第二步 return 5 *(4*(func(3)))</span>
<span class="token comment">// 第二步 return 5 *(4*3*2(func(2)))</span>
<span class="token comment">// 第二步 return 5 *(4*3*2(*1*func(1)))</span>
<span class="token comment">// 第二步 return 5 *(4*3*2*1) = 120</span>
</code></pre></div><blockquote><p>再看一个斐波那契数列的递归数列，加深对递归概念的理解，小于 2 则 return 1, 公式 f[n]=f[n-1]+f(n-2) 递归结束条件 f[1]=1;f[2]=1</p></blockquote> <ul><li>基本规则</li></ul> <table><thead><tr><th>序列</th> <th>值</th></tr></thead> <tbody><tr><td>0</td> <td>1</td></tr> <tr><td>1</td> <td>1</td></tr> <tr><td>2</td> <td>2</td></tr> <tr><td>3</td> <td>3</td></tr> <tr><td>4</td> <td>5</td></tr> <tr><td>5</td> <td>8</td></tr> <tr><td>6</td> <td>13</td></tr> <tr><td>7</td> <td>21</td></tr> <tr><td>8</td> <td>34</td></tr> <tr><td>9</td> <td>55</td></tr> <tr><td></td> <td></td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @desc for 循环实现 ，借用三个变量来存放
 * */</span>
<span class="token keyword">var</span> <span class="token function-variable function">fibFor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    n2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    n3 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    n3 <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span>
    n1 <span class="token operator">=</span> n2<span class="token punctuation">;</span>
    n2 <span class="token operator">=</span> n3<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> n3<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token function">fibFor</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @desc 斐波那契数列 学习，递归函数解析
 *
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">fib</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 入参 8</span>
</code></pre></div><table><thead><tr><th>序列</th> <th>值</th></tr></thead> <tbody><tr><td>第一步</td> <td>fib(7)+fib(6)</td></tr> <tr><td>第二步</td> <td>fib(6)+fib(5) + fib(5)+fib(4)</td></tr> <tr><td>第三步</td> <td>fib(5)+fib(4) + fib(4)+fib(3) + fib(4)+fib(3) + fib(3)+fib(2)</td></tr> <tr><td>第四步</td> <td>fib(4)+fib(3) + fib(3)+fib(2) + fib(3)+fib(2) + fib(2)+fib(1) + fib(3)+fib(2) + fib(2)+fib(1) + fib(2)+fib(1) + fib(1)+fib(0)</td></tr> <tr><td>第五步</td> <td>fib(3)+fib(2) + fib(2)+fib(1) + fib(2)+fib(1) + fib(1)+fib(0) + fib(2)+fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(2)+fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1)+ fib(1)+fib(0) + fib(1) + fib(1) + fib(0)</td></tr> <tr><td>第六步</td> <td>fib(2)+fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) +fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1)+ fib(1)+fib(0) + fib(1) + fib(1) + fib(0)</td></tr> <tr><td>第七步</td> <td>fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1) + fib(1)+fib(0) +fib(1) + fib(1)+fib(0) + fib(1)+fib(0) + fib(1)+ fib(1)+fib(0) + fib(1) + fib(1) + fib(0)</td></tr> <tr><td>第八步</td> <td>1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1</td></tr> <tr><td>第九步</td> <td>去掉空格之后 我们得到一个结果 1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1+1 = 34</td></tr></tbody></table> <p><img src="/images/fib.jpg" alt="斐波那契数列" title="斐波那契数列"></p> <h3 id="立即执行"><a href="#立即执行" class="header-anchor">#</a> 立即执行</h3> <blockquote><p>因为立即执行函数和外部的全局作用域的命名空间不同，于是 name1 和 this.name1 属于不同的空间,私有命名空间</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*立即函数的几种声明方式 1  匿名函数包括在一个括号运算符*/</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">test</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token comment">/*立即函数的几种声明方式 2  匿名函数跟一个效果好。并包括一个原算法*/</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">test</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*demo*/</span>
<span class="token keyword">var</span> name1 <span class="token operator">=</span> <span class="token string">&quot;World!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">window</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name1<span class="token punctuation">,</span> name1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window,window,undefined</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name1 <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name1 <span class="token operator">=</span> <span class="token string">&quot;JACK&quot;</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello,&quot;</span> <span class="token operator">+</span> name1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Goodbye&quot;</span> <span class="token operator">+</span> name1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h2> <h3 id="焦点事件"><a href="#焦点事件" class="header-anchor">#</a> 焦点事件</h3> <blockquote><p>判断浏览器是否支持：<code>document.implementation.hasFeature(&quot;FocusEvent&quot;),&quot;3.0&quot;</code></p></blockquote> <table><thead><tr><th>触发次序</th> <th>冒泡事件</th> <th>非冒泡事件</th> <th>描述</th> <th>用例</th></tr></thead> <tbody><tr><td>1</td> <td>focusout</td> <td></td> <td>失去焦点大多浏览器</td> <td></td></tr> <tr><td>2</td> <td>focusint</td> <td></td> <td>获得焦点，大多浏览器</td> <td></td></tr> <tr><td>3</td> <td></td> <td><code>blur</code></td> <td>元素失去焦点，浏览器都支持</td> <td></td></tr> <tr><td>4</td> <td>DOMFocusOut</td> <td></td> <td>失去焦点,Opera 支持</td> <td></td></tr> <tr><td>5</td> <td></td> <td><code>focus</code></td> <td>不冒泡，获得焦点触发</td> <td></td></tr> <tr><td>6</td> <td>DOMFocusIn</td> <td></td> <td>冒泡,Opera 支持</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <blockquote><p>郁闷，2018 年 10 月 31 日 这一天面试，其实我都有做过，而且自然而然的做过，竟然答不上来，知识体系全部混乱。
这样下去，如果面试一些基础题，我真的可能找不到工作了。
之前也没怎么考虑是事件委托还是代理，自然而然就这样处理事件了。 比如之前人工写的 轮播 在那个智能官网里面的，也没多想了，可谁知道那就是事件委托，哔了狗。</p></blockquote> <ul><li>如何去声明和使用事件，以点击事件来说</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--onclick---&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">function</span> <span class="token function">changeColorA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">function</span> <span class="token function">changeColorB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">function</span> <span class="token function">changeColor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token operator">=</span><span class="token string">'#'</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">16777215</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token comment">//方式1</span>
   btn<span class="token punctuation">.</span>onclick<span class="token operator">=</span>changeColor<span class="token punctuation">;</span>
   <span class="token comment">//方式2  以添加addEventListener 函数来完成。具名函数方式</span>
   btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>changeColor<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">//方式3 匿名函数来指代一下也是可以的</span>
   btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token operator">=</span><span class="token string">'#'</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">16777215</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 移除事件</span>
   btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>changeColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 添加多个事件</span>

  <span class="token comment">//  无法实现并存的方式，后者会覆盖前者</span>
   btn<span class="token punctuation">.</span>onclick<span class="token operator">=</span>changeColorA<span class="token punctuation">;</span>
   btn<span class="token punctuation">.</span>onclick<span class="token operator">=</span>changeColorB<span class="token punctuation">;</span>

   <span class="token comment">//使用事件监听器注册的话，就可以实现了!!兼容性，addEventListener只支持到IE9</span>
   btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>changeColorA<span class="token punctuation">)</span><span class="token punctuation">;</span>
   btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>changeColorB<span class="token punctuation">)</span>
   <span class="token comment">//有些情况，如submit 事件总会使用preventDefault()阻止默认行为</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="事件委托-事件代理"><a href="#事件委托-事件代理" class="header-anchor">#</a> 事件委托/事件代理</h3> <ul><li>什么时候用到？for 循环里面 多个点击事件，一次操作就可以完成，减少 DOM 操作次数</li> <li>原理：利用事件的<code>冒泡原理</code>来实现，</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 很蠢的对每个li 标签都循环做点击事件</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> li<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    li<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>事件冒泡</p> <ul><li><p>什么是冒泡原理？</p></li> <li><p>什么是事件冒泡？</p> <blockquote><p>事件从最深的节点开始，逐步向上传播事件，div&gt;ul&gt;li&gt;a ，给 a 添加事件，事件就会一层一层的往外执行，执行顺序为 a-&gt;li-&gt;ul-&gt;div</p></blockquote></li> <li><p>机制</p> <blockquote><p>给最外面的 div 加点击事件，<code>这里理解？：它的后代都会被点击到</code>那么 ul li a 做点击的时候，都会冒泡到最外层 div，也就是会触发。这就是事件委托，委托父级代为执行事件。反正最后都会被冒泡到？？</p></blockquote></li> <li><p>事件冒泡和事件捕获</p> <ul><li>捕获阶段<code>父级-&gt;子级，向里</code> <ul><li>检查最外层<code>html</code>，是否在捕获阶段注册一个<code>onclick</code>事件处理程序，如果是，则运行</li> <li>然后移动到下一个元素，并执行相同操作，直到实际点击的元素</li> <li><strong>结论是：事件始终从 html 层开始？</strong></li> <li>顺序：父级——&gt;子级 、外到里</li></ul></li> <li>冒泡阶段 <code>子级-&gt;父级，向外</code> <ul><li>检查实际点击元素是否在冒泡阶段注册<code>onclick</code>事件，如果是则运行</li> <li>然后移动到直接祖先，然后同上，直至<code>html</code>元素</li> <li>时间处理程序都在冒泡阶段注册 <code>(但可以使用addEventListener(,,true) 在捕获阶段注册</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>video<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//阻止冒泡链扩大</span>
  video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//播放视频</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>事件委托<code>由于冒泡而被允许的概念</code> <ul><li>通过委托父级，<code>addEventListener</code> 设置在父节点上，将事件监听器气泡的影响每个子节点，而不是每个子节点都设置事件监听器</li></ul></li></ul></li></ul></li></ul> <h2 id="前端路由实现"><a href="#前端路由实现" class="header-anchor">#</a> 前端路由实现</h2> <blockquote><p>API，利用两个 API 修改 URL，而不会引起页面的刷新</p></blockquote> <ul><li>方式一 pushState ajax
<ul><li>history.pushState 增加一条新的记录</li> <li>history.replaceState 替换当前的历史记录</li></ul></li> <li>方式二 hash+ajax
<ul><li>&quot;#&quot; 锚点，web 不会解析 hash，“#”后面，web 服务会被自动忽略</li> <li>js 可以通过 location.hash 读取，解析后可以实现响应不同的路径逻辑</li> <li>hashchange 监听 hash 变化触发事件</li></ul></li></ul> <h2 id="全局函数"><a href="#全局函数" class="header-anchor">#</a> 全局函数</h2> <p><code>http://www.w3school.com.cn/jsref/jsref_obj_global.asp</code></p> <ul><li>Global <code>ES 内置单体对象</code> 全局对象</li></ul> <table><thead><tr><th>属性</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td></td> <td>isNaN()</td> <td></td></tr> <tr><td></td> <td>isFinite()</td> <td></td></tr> <tr><td></td> <td>parseInt()</td> <td></td></tr> <tr><td></td> <td>parseFloat()</td> <td></td></tr> <tr><td></td> <td>encodeURI()</td> <td><code>对空格转换</code></td></tr> <tr><td></td> <td>decodeURI()</td> <td></td></tr> <tr><td></td> <td>encodeURIComponent()</td> <td><code>非标准字符全部编码</code></td></tr> <tr><td></td> <td>decodeURIComponent()</td> <td></td></tr> <tr><td></td> <td>eval()</td> <td></td></tr> <tr><td>undefined</td> <td></td> <td><code>特殊值</code></td></tr> <tr><td>NaN</td> <td></td> <td><code>not a number 特殊值</code></td></tr> <tr><td>Infinity</td> <td></td> <td><code>特殊值</code></td></tr> <tr><td>Object</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>Array</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>Function</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>Boolean</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>String</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>Number</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>Date</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>RegExp</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>Error</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>EvalError</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>RangeError</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>ReferenceError</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>SyntaxError</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>TypeError</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td>URIError</td> <td></td> <td><code>构造函数</code></td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <ul><li>Math <code>ES 内置单体对象</code>
比较数组大小</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11231</span><span class="token punctuation">,</span> <span class="token number">238</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th>属性</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>E</td> <td></td> <td><code>自然对数的底数，常量e的值</code></td></tr> <tr><td>LN10</td> <td></td> <td><code>10的自然对数</code></td></tr> <tr><td>LN2</td> <td></td> <td><code>2的自然对数</code></td></tr> <tr><td>LOG2E</td> <td></td> <td><code>2为底的e的对数</code></td></tr> <tr><td>LOG10E</td> <td></td> <td><code>10为底的e的对数</code></td></tr> <tr><td>PI</td> <td></td> <td></td></tr> <tr><td>SQRT1_2</td> <td></td> <td><code>1/2的平方根，2的平方根的倒数</code></td></tr> <tr><td>SQRT2</td> <td></td> <td><code>2的平方根</code></td></tr> <tr><td></td> <td>min()</td> <td><code>(1,3,9,4)</code></td></tr> <tr><td></td> <td>max()</td> <td><code>(9,3,11)</code></td></tr> <tr><td></td> <td>ceil()</td> <td>向上取舍</td></tr> <tr><td></td> <td>floor()</td> <td>向下取舍</td></tr> <tr><td></td> <td>round()</td> <td></td></tr> <tr><td></td> <td>random()</td> <td><code>0-1随机数，技巧：Math.random()*100+1</code></td></tr> <tr><td></td> <td>abs(num)</td> <td><code>绝对值</code></td></tr> <tr><td></td> <td>exp(num)</td> <td><code>Math.E的num次幂</code></td></tr> <tr><td></td> <td>log(num)</td> <td></td></tr> <tr><td></td> <td>pow(num,power)</td> <td></td></tr> <tr><td></td> <td>sqrt(num)</td> <td><code>num的平方根</code></td></tr> <tr><td></td> <td>acos(x)</td> <td><code>x的反余弦值</code></td></tr> <tr><td></td> <td>asin(x)</td> <td><code>x的反正弦值</code></td></tr> <tr><td></td> <td>atan()</td> <td><code>x的反正切值</code></td></tr> <tr><td></td> <td>atan2(y,x)</td> <td><code>y/x的反正切值</code></td></tr> <tr><td></td> <td>cos(x)</td> <td><code>x的余弦值</code></td></tr> <tr><td></td> <td>sin(x)</td> <td><code>x正弦值</code></td></tr> <tr><td></td> <td>tan(x)</td> <td><code>x正切值</code></td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <ul><li>decodeURL</li></ul> <h2 id="枚举-new-symbol"><a href="#枚举-new-symbol" class="header-anchor">#</a> 枚举[<code>new</code>] symbol</h2> <h2 id="类-class"><a href="#类-class" class="header-anchor">#</a> 类 class</h2> <h2 id="面向对象-程序设计"><a href="#面向对象-程序设计" class="header-anchor">#</a> 面向对象,程序设计</h2> <blockquote><p>一个标志，类的概念</p></blockquote> <table><thead><tr><th>概念/方法</th> <th>描述</th></tr></thead> <tbody><tr><td>数据属性</td> <td></td></tr> <tr><td>访问器属性</td> <td></td></tr> <tr><td>Object.defineProperty(obj,name,{})</td> <td><code>定义单个</code></td></tr> <tr><td>Object.defineProperties(obj,{xx:{value:1}})</td> <td><code>同时编辑多个，定义多个属性</code></td></tr> <tr><td>Object.getOwnPropertyDescriptor()</td> <td><code>取得 给定属性的描述符</code></td></tr> <tr><td></td> <td></td></tr></tbody></table> <h4 id="创建对象-工厂模式"><a href="#创建对象-工厂模式" class="header-anchor">#</a> 创建对象-工厂模式</h4> <blockquote><p>普通方式，字面量方式，代码量比较多</p></blockquote> <blockquote><p>优点：一个函数，即可创建对象</p></blockquote> <ol><li>只要一个函数，可多次调用
<blockquote><p>缺点：</p></blockquote></li> <li>没有解决对象识别（知道一个对象的类型？？）</li> <li>返回默认的，如果不处理则会返回固定的</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// const obj=Object.create({})//带有普通对象的__proto__ 类似  const obj = new Object()</span>
  <span class="token comment">// const obj=Object.create(null)//则没有_proto__！</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//use</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;28&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;前端狗&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="创建对象-构造函数"><a href="#创建对象-构造函数" class="header-anchor">#</a> 创建对象-构造函数</h3> <blockquote><p>优点：</p></blockquote> <ol><li>没有显示地创建对象</li> <li>直接将方法和属性赋值给 this 对象</li> <li>没有 return
<blockquote><p>缺点：</p></blockquote></li> <li>每个方法都要在每个实例上重新创建一边，<code>p1.sayName===p2.sayName</code> 同样任务，但两遍，两者不等于，证明这一点
<blockquote><p>特点：</p></blockquote></li> <li>大写构造函数首字母，惯例</li> <li>它的实例都有一个<code>constructor</code>（构造函数）属性，指向他的构造函数</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ConstructorFn</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// use</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConstructorFn</span><span class="token punctuation">(</span><span class="token string">&quot;李四6i7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;29&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;后端喵&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监测类型</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">ConstructorFn</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true,同样都是Object的实例</span>
</code></pre></div><blockquote><p>当做构造函数，见上面</p></blockquote> <blockquote><p>当普通函数</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">ConstructorFn</span><span class="token punctuation">(</span><span class="token string">&quot;李四6i7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;29&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;后端喵&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>在另外一个对象的作用域中调用</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">ConstructorFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>ob<span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;python&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ConstructorFn.apply(ob,[&quot;王五&quot;,'30','python']) 或者这样</span>

on<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>缺点（原型模式解决）：</p></blockquote> <ol><li>在全局作用域下声明函数，只能被某个对象调用，意思是，专属的函数</li> <li>而如果需要定义多个函数的，那么你需要声明多个函数。。。</li> <li>如何对构造函数进行优化呢？属性和函数定义区分开,</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ConstructorFn</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sayName <span class="token operator">=</span> sayName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConstructorFn</span><span class="token punctuation">(</span><span class="token string">&quot;孙六&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;31&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;产品汪&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="创建对象-原型模式"><a href="#创建对象-原型模式" class="header-anchor">#</a> 创建对象-原型模式</h4> <blockquote><p>特点：</p></blockquote> <ol><li>所有实例都共享原型的属性和方法
<blockquote><p>优点：</p></blockquote></li> <li>修改单一个实例，不会影响到其他实例</li> <li></li></ol> <blockquote><p>缺点：</p></blockquote> <ol><li></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;刘七&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">&quot;32&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>job <span class="token operator">=</span> <span class="token string">&quot;设计狮&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span>sayName <span class="token operator">===</span> p2<span class="token punctuation">.</span>sayName<span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre></div><blockquote><p>理解原型对象</p></blockquote> <ol><li>默认情况，原型对象自动取得 constructor 属性，其他方法和属性都是从 Object 继承</li> <li>使用<code>Person.isPrototypeOf()</code>测试实例是否有一个纸箱构造函数<code>prototype</code>的指针</li> <li><code>hasOwnProperty()</code> 访问的值是不是实例的属性,该方法会忽略从原型链继承到的属性</li> <li><code>Object.getOwnPrototypeDescriptor()</code> 用于实例属性
<blockquote><p>原型与 in 操作符</p></blockquote></li> <li><code>&quot;name&quot; in p1</code>查找该实例上的属性，不管是<code>实例上还是原型上</code></li> <li>IE 早期版本出现 bug，导致无法被<code>in</code> 出来，所以替代的方案是 <code>Object.keys()</code>，可列出可枚举的字符串数组
<blockquote><p>更简单的原型语法，</p></blockquote></li> <li>[x]字面量包装<code>prototype</code>，但！<code>constructor</code>没有指向构造函数了</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;44&quot;</span><span class="token punctuation">,</span>
  job<span class="token operator">:</span> <span class="token string">&quot;ceo&quot;</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>[x]字面量包装<code>prototype</code>，初始化回来<code>constructor</code>。！但是，此时，<code>constructor</code> 是可以被枚举的。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token operator">:</span> Proto<span class="token punctuation">,</span> <span class="token comment">//重新指向</span>
  name<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;44&quot;</span><span class="token punctuation">,</span>
  job<span class="token operator">:</span> <span class="token string">&quot;ceo&quot;</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>3.[√]所以只能用 es5 的,Object.defineProperty()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;44&quot;</span><span class="token punctuation">,</span>
  job<span class="token operator">:</span> <span class="token string">&quot;ceo&quot;</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/*只允许在支持es5 Object.defineProperty()方法的环境下使用这样的方式*/</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&quot;constructor&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> Person<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>原型的动态性 <strong>实例中的指针仅指向原型，并不是指向构造函数</strong>，当时<code>new 出来 的prototype</code>，即<code>最初原型</code>，以下代码说明这一点：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;44&quot;</span><span class="token punctuation">,</span>
  job<span class="token operator">:</span> <span class="token string">&quot;ceo&quot;</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
p1<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>原生对象的原型</p></blockquote> <ul><li>给原型对象，添加方法，再<code>new</code> 出来
<blockquote><p>原型对象的问题</p></blockquote></li></ul> <ol><li>忽略构造函数传递初始化参数</li> <li>所有实例获取相同的属性值</li> <li><code>共享</code>的本质</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Proto</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;44&quot;</span><span class="token punctuation">,</span>
  job<span class="token operator">:</span> <span class="token string">&quot;ceo&quot;</span><span class="token punctuation">,</span>
  test<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;men&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;son&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 此时</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>test <span class="token operator">===</span> p2<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre></div><h3 id="√-创建对象-混淆大法-组合使用构造函数-原型模式-目前最广泛-最好的方式"><a href="#√-创建对象-混淆大法-组合使用构造函数-原型模式-目前最广泛-最好的方式" class="header-anchor">#</a> [√]创建对象-混淆大法！组合使用构造函数 +原型模式！<code>目前最广泛，最好的方式</code></h3> <blockquote><p>构造函数写属性，方法则用原型继承</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;man&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;woman&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token operator">:</span> Fn<span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token string">&quot;xsa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;te&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token string">&quot;xsa2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tt2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;te2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;son&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>test <span class="token operator">===</span> p2<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="创建对象-动态原型模式"><a href="#创建对象-动态原型模式" class="header-anchor">#</a> 创建对象-动态原型模式</h3> <blockquote><p>缺点</p></blockquote> <ul><li>不能使用字面量重写原型,否则会切断联系
<blockquote><p>通过 if 来判断</p></blockquote></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sayName <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="x-创建对象-寄生构造函数模式"><a href="#x-创建对象-寄生构造函数模式" class="header-anchor">#</a> [x]创建对象-寄生构造函数模式</h3> <blockquote><p>比工厂模式多了一个 new，使用工厂模式 new 出来</p></blockquote> <blockquote><p>特点：</p></blockquote> <ol><li>返回的对象与构造函数或者与构造函数的原型属性之间没有关系<code>[1]</code></li> <li>构造函数 return 的对象与构造函数外部创建的对象没有什么不同<code>[2]</code></li> <li>不能使用 instanceof 操作符确定对象类型</li> <li>在红宝石上书，不推荐此模式</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// const obj=Object.create({})//带有普通对象的__proto__ 类似  const obj = new Object()</span>
  <span class="token comment">// const obj=Object.create(null)//则没有_proto__！</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//此处不一定是Object对象，可以是Array对象，具体看业务操作</span>
  obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//use</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">factory</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;28&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;前端狗&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="创建对象-稳妥构造函数模式"><a href="#创建对象-稳妥构造函数模式" class="header-anchor">#</a> 创建对象-稳妥构造函数模式</h3> <blockquote><p>由道格拉斯·克罗克福斯 发明了该模式——稳妥对象</p></blockquote> <blockquote><p>特点：</p></blockquote> <ol><li>遵从寄生构造函数类似模式</li> <li>新创建对象方法的实例不引用 this</li> <li>不适用 new 操作调用构造函数</li> <li>丢掉无关属性或者说是丢掉无效入参</li> <li>没有其他方式可以访问其数据成员</li> <li>为安全性考虑的 js 设计模式</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">durable</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// todo 定义私有变量和属性</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// use</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">durable</span><span class="token punctuation">(</span><span class="token string">&quot;柳十&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;41&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CFO管钱的&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="new-操作符都干吗了"><a href="#new-操作符都干吗了" class="header-anchor">#</a> new 操作符都干吗了？</h3> <ol><li>创建一个新对象</li> <li>构造函数的作用域赋值给新对象，this 指向这个新对象</li> <li>执行构造函数代码，为这个新对象添加属性</li> <li>返回新对象
<a href="https://www.cnblogs.com/faith3/p/6209741.html" target="_blank" rel="noopener noreferrer">查看更多 js 中的 new()到底做了些什么？？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h2 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h2> <ul><li><code>js 没有作用域块</code>，导致 var 声明时 是全局作用域。但如果是 let 声明，情况就不一样。let 让变量有了作用域。</li> <li>可以使用过匿名函数来解决，模仿块级作用域</li></ul> <blockquote><p>以下代码让很感到困惑</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ha <span class="token operator">=</span> <span class="token string">&quot;hello,world!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ha<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到多少?</span>
</code></pre></div><blockquote><p>但如果是 let 开头的话，就不一样了</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ha <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ha<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>这也就是能解释了，为什么 当使用 var 声明 for 循环出来后，总是最后一个值的原因（let 则相反）</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>所以优秀的代码，其实可以这样去避免</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
i <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>函数内部，相当于一个作用域</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*demo1*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> t <span class="token operator">+</span> <span class="token string">&quot;,world!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//</span>

<span class="token comment">/*demo2*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">test2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  t2 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> t2 <span class="token operator">+</span> <span class="token string">&quot;,world!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>t2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//可以访问到</span>
</code></pre></div><h2 id="私有变量"><a href="#私有变量" class="header-anchor">#</a> 私有变量</h2> <blockquote><p>如何让外部的函数访问到内部的变量和设置</p></blockquote> <ul><li>通过构造函数的方式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="this"><a href="#this" class="header-anchor">#</a> this</h3> <ul><li>this 总是指向函数的直接调用者（非间接）</li> <li>有 new 关键字，指 new 出来的那个对象（构造函数的实例，一般）</li> <li>事件中，指触发这个事件的对象。</li> <li>特殊的。IE 中的 attachEvent 的 this 总是指向全局的 window</li> <li>闭包中<code>this</code>是 window 对象</li> <li>dom 实例，this 指向这个 dom 对象实例</li></ul> <blockquote><p>this 竟然不是上一个函数对象</p></blockquote> <ul><li>自动取得两个特殊的变量</li> <li>内部搜索到 this arguments 时，只会搜索到其活动对象为止，因此<code>永远不可能直接访问外部函数的中的两个变量</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;I am window&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;I am object&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//竟然是window！！！</span>
</code></pre></div><blockquote><p><code>将外部作用域中的this 对象，保存在一个闭包能够访问到的变量力，就可以让闭包访问到该对象了</code>!!</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;I am window&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;I am object&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> that<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//demo1</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;I am object&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> that<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//bind 、call</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="以下三个方法都是为了改变上下文存在而是用的"><a href="#以下三个方法都是为了改变上下文存在而是用的" class="header-anchor">#</a> 以下三个方法都是为了改变上下文存在而是用的</h2> <ul><li><p><sub><a href="##%E7%B4%A2%E5%BC%95__%E5%85%B3%E4%BA%8E%E6%9C%AC%E4%BD%9C%E7%9F%A5%E8%AF%86%E5%BC%95%E7%94%A8%E6%9D%A5%E6%BA%90sub%E6%A0%87%E7%AD%BE">绑定-this-的方法</a></sub></p></li> <li><p>call 方法。调用一个函数，具有一个指定 this 值和分别地提供参数 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener noreferrer">MDN 查看更多<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>语法 <code>function.call(thisObj,args...)</code>,如果 thisObj 是 null，则是全局对象,args 作为参数传递给 <code>function</code></li></ul></li> <li><p>apply 方法。调用一个函数，具有指定 this 的值，以及作为一个数组提供的参数。 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener noreferrer">MDN 查看更多<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>bind 方法。创建一个新的函数。被调用时，其 this 关键字 设置为提供的值，在调用时新函数时，在任何提供之前一个给定的参数序列。<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="noopener noreferrer">MDN 查看更多<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="call-会立即执行。"><a href="#call-会立即执行。" class="header-anchor">#</a> call 会立即执行。</h2> <ul><li>入参是一个 (a,b,c)的列表形式，记忆方式，“C” 类似括号“（”。</li> <li>call 的第一个参数就是 this 所要指向的那个对象，后面的参数则是函数调用时所需的参数。</li> <li>应用：调用对象的原生方法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 覆盖掉继承的 hasOwnProperty 方法</span>
obj<span class="token punctuation">.</span><span class="token function-variable function">hasOwnProperty</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h2 id="apply-会立即执行。"><a href="#apply-会立即执行。" class="header-anchor">#</a> apply 会立即执行。</h2> <ul><li>最多入参 65536 个参数</li> <li>假如数组的长度很长。切块后循环传入目标方法</li></ul> <h3 id="apply-讲数组添加到另一个数组"><a href="#apply-讲数组添加到另一个数组" class="header-anchor">#</a> apply 讲数组添加到另一个数组</h3> <ul><li>数组 a，数组 b</li> <li>a 里面含有 b 的元素</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
list1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>list1<span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;list1:&quot;</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;list2:&quot;</span><span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="apply-和内置函数-允许-math-max-math-min-找出数组中最大值-最小值"><a href="#apply-和内置函数-允许-math-max-math-min-找出数组中最大值-最小值" class="header-anchor">#</a> apply 和内置函数，允许 Math.max/Math.min 找出数组中最大值/最小值</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 最大值</span>
<span class="token keyword">const</span> list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 最小值</span>
<span class="token keyword">const</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="将数组空元素转为undefined"><a href="#将数组空元素转为undefined" class="header-anchor">#</a> 将数组空元素转为<code>undefined</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">54654</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 54654, undefined, 55 ]</span>
</code></pre></div><h3 id="使用-apply-来链接构造器"><a href="#使用-apply-来链接构造器" class="header-anchor">#</a> 使用 apply 来链接构造器</h3> <h3 id="转换类数组对象"><a href="#转换类数组对象" class="header-anchor">#</a> 转换类数组对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (99) [1, empty × 98]</span>
</code></pre></div><h3 id="绑定回调函数的对象"><a href="#绑定回调函数的对象" class="header-anchor">#</a> 绑定回调函数的对象</h3> <div class="language-js extra-class"><pre class="language-js"><code></code></pre></div><h2 id="bind-新函数-不会立即执行。"><a href="#bind-新函数-不会立即执行。" class="header-anchor">#</a> bind 新函数，不会立即执行。</h2> <ul><li>创建一个新的函数。</li> <li>新函数的 this 是 bind 的第一个参数指定的</li> <li>其余参数作为新函数的参数使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">bind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>因为 bind 每次都生成一个函数。所以需要注意以下：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 而是</span>

<span class="token keyword">const</span> listener <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 否则无法remove事件监听</span>

ele<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="call-与-apply-区别"><a href="#call-与-apply-区别" class="header-anchor">#</a> call 与 apply 区别</h2> <ul><li>call 入参是列表。</li> <li>apply 入参是数组</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">ob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>ob<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token punctuation">{</span> t<span class="token operator">:</span> <span class="token string">&quot;222&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ob <span class="token operator">=</span> <span class="token punctuation">{</span> name1<span class="token operator">:</span> <span class="token string">&quot;lala&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ob<span class="token punctuation">]</span><span class="token punctuation">,</span> cc<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// undefined</span>
</code></pre></div><h2 id="blob-对象"><a href="#blob-对象" class="header-anchor">#</a> Blob 对象</h2> <ul><li>相互转换的其他平台 - url
<ul><li>URL.CreateObject(stream)//创建一个流的 URL 对象 - web(XMLHttpRequest) 异步请求 - file system 文件系统 - database 数据库 - workers 窗口 - array buffer 二进制 - text 文本</li></ul></li></ul> <h2 id="js-三大对象"><a href="#js-三大对象" class="header-anchor">#</a> js 三大对象</h2> <p><a href="https://segmentfault.com/a/1190000011467723" target="_blank" rel="noopener noreferrer">SegmentFault 查看更多，作者 Adrain`<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="本地对象"><a href="#本地对象" class="header-anchor">#</a> 本地对象</h2> <ul><li>与宿主无关，独立于宿主环境的 ECMAScript 实现提供的对象</li> <li>ECMA-262 定义的类（引用类型）</li> <li>该类引用类型在运行过程中需要通过 new 创建所需的实例对象</li> <li>包含 <code>Object</code>、<code>Array</code>、<code>Date</code>、<code>RegExp</code>、<code>Function</code>、<code>Boolean</code>、<code>Number</code>、<code>String</code> 等</li></ul> <h2 id="内置对象"><a href="#内置对象" class="header-anchor">#</a> 内置对象</h2> <ul><li>与宿主无关，独立于宿主环境的 ECMAScript 实现提供的对象</li> <li>ECMAScript 程序开始执行前就存在，本身就是实例化内置对象，无需实例化</li> <li>内置对象是本地对象的子集</li> <li>包含<code>Global</code> 和<code>Math</code></li> <li>ECMAScript 5 中新增了<code>JSON</code>这个存在于全局的内置对象</li></ul> <h2 id="宿主对象"><a href="#宿主对象" class="header-anchor">#</a> 宿主对象</h2> <ul><li>由 ECMAScript 实现的宿主环境提供的对象，包含两个大类，一个是宿主提供，一个是自定义类对象</li> <li>所有非本地对象都是宿主对象</li> <li>嵌入网页的 js 来讲，宿主就是浏览器提供的对象，包括<code>window</code> 和<code>Document</code></li> <li>所有 DOM 和 BOM 对象都属于宿主对象</li></ul></div> </div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.da650921.js" defer></script><script src="/assets/js/2.cfea43a3.js" defer></script><script src="/assets/js/48.4aab68ce.js" defer></script>
  </body>
</html>
